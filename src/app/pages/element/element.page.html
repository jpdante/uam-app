<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="search"></ion-back-button>
    </ion-buttons>
    <ion-title>{{element.data.name}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!--Ability Scores-->
  <ng-template [ngIf]="element.type === 'ability-scores'">
    <ion-card>
      <ion-card-header>
        <ion-card-title> {{element.data.full_name}} </ion-card-title>
        <ion-card-content> {{element.data.desc}} </ion-card-content>
      </ion-card-header>
    </ion-card>
  </ng-template>
  <!--Ability Scores - End-->

  <!--Skills-->
  <ng-template [ngIf]="element.type === 'skills'">
    <ion-router-link (click)="redirectToElement(element.data.ability_score)">
      <ion-card>
        <ion-card-header>
          <ion-card-title> Ability Score </ion-card-title>
          <ion-card-content>
            <b>{{element.data.ability_score.name}}</b>
            <ion-icon name="chevron-forward-outline"></ion-icon>
          </ion-card-content>
        </ion-card-header>
      </ion-card>
    </ion-router-link>

    <ion-card>
      <ion-card-header>
        <ion-card-title> Description </ion-card-title>
        <ion-card-content> {{element.data.desc}} </ion-card-content>
      </ion-card-header>
    </ion-card>
  </ng-template>
  <!--Skills - End-->

  <!--Classes-->

  <ng-template [ngIf]="element.type === 'classes'">
    <h2 class="text-center">Proficiencies</h2>
    <ion-router-link *ngFor="let proficiency of element.data.proficiencies" (click)="redirectToElement(proficiency)">
      <ion-card>
        <ion-row class="ion-align-items-center">
          <ion-card-header>
            <ion-col class="ion-no-padding titulos">
              <ion-card-title>{{proficiency.name}}</ion-card-title>
            </ion-col>
          </ion-card-header>
        </ion-row>
      </ion-card>
    </ion-router-link>

    <h2 class="text-center">Proficiency Choices</h2>
    <h3 class="text-center">
      Choose {{element.data.proficiency_choices[0].choose}} from
    </h3>
    <ion-router-link *ngFor="let proficiency of element.data.proficiency_choices[0].from"
      (click)="redirectToElement(proficiency)">
      <ion-card>
        <ion-row class="ion-align-items-center">
          <ion-card-header>
            <ion-col class="ion-no-padding titulos">
              <ion-card-title>{{proficiency.name}}</ion-card-title>
            </ion-col>
          </ion-card-header>
        </ion-row>
      </ion-card>
    </ion-router-link>

    <h2 class="text-center">Saving Throws</h2>
    <span>
      <ion-router-link *ngFor="let saving_throw of element.data.saving_throws"
        (click)="redirectToElement(saving_throw)">
        <ion-card>
          <ion-row class="ion-align-items-center">
            <ion-card-header>
              <ion-col class="ion-no-padding titulos">
                <ion-card-title>{{saving_throw.name}}</ion-card-title>
              </ion-col>
            </ion-card-header>
          </ion-row>
        </ion-card>
      </ion-router-link>
    </span>

    <h2 class="text-center">Starting Equipment</h2>
    <span>
      <ion-router-link *ngFor="let starting_equip of element.data.starting_equipment"
        (click)="redirectToElement(starting_equip.equipment)">
        <ion-card>
          <ion-row class="ion-align-items-center">
            <ion-card-header>
              <ion-col class="ion-no-padding titulos">
                <ion-card-title>{{starting_equip.quantity}} -
                  {{starting_equip.equipment.name}}</ion-card-title>
              </ion-col>
            </ion-card-header>
          </ion-row>
        </ion-card>
      </ion-router-link>
    </span>

    <h1 class="text-center">Starting Equipment Options</h1>
    <h3 class="text-center">
      Choose {{element.data.starting_equipment_options[0].choose}} from
    </h3>
    <ion-router-link *ngFor="let starting_equip_opt of element.data.starting_equipment_options[0].from"
      (click)="redirectToElement(starting_equip_opt)">
      <ion-card>
        <ion-row class="ion-align-items-center">
          <ion-card-header>
            <ion-col class="ion-no-padding titulos">
              <ion-card-title>{{starting_equip_opt.quantity}} -
                {{starting_equip_opt.equipment.name}}</ion-card-title>
            </ion-col>
          </ion-card-header>
        </ion-row>
      </ion-card>
    </ion-router-link>
    <h3 class="text-center">
      Choose {{element.data.starting_equipment_options[1].choose}} from
    </h3>
    <ion-router-link *ngFor="let starting_equip_opt of element.data.starting_equipment_options[1].from"
      (click)="redirectToElement(starting_equip_opt)">
      <ion-card>
        <ion-row class="ion-align-items-center">
          <ion-card-header>
            <ion-col class="ion-no-padding titulos">
              <ion-card-title>{{starting_equip_opt.quantity}} -
                {{starting_equip_opt.equipment.name}}</ion-card-title>
            </ion-col>
          </ion-card-header>
        </ion-row>
      </ion-card>
    </ion-router-link>

    <h2 class="text-center">Subclass</h2>
    <span>
      <ion-router-link *ngFor="let subclass of element.data.subclasses" (click)="redirectToElement(subclass)">
        <ion-card>
          <ion-row class="ion-align-items-center">
            <ion-card-header>
              <ion-col class="ion-no-padding titulos">
                <ion-card-title>{{subclass.name}}</ion-card-title>
              </ion-col>
            </ion-card-header>
          </ion-row>
        </ion-card>
      </ion-router-link>
    </span>
  </ng-template>

  <!--Classes - End-->

  <!--Subclasses-->

  <ng-template [ngIf]="element.type === 'subclasses'">
    <ion-card class="description-layout">
      <ion-card-content class="description">
        {{element.data.desc}}
      </ion-card-content>
    </ion-card>
  </ng-template>

  <!--Subclasses - End-->

  <!--Features-->

  <ng-template [ngIf]="element.type === 'features'">
    <h2 class="text-center">Class: {{element.data.class.name}}</h2>

    <h3 class="text-center">Level {{element.data.level}}</h3>

    <ion-card class="description-layout">
      <ion-card-subtitle class="description">
        {{element.data.desc}}
      </ion-card-subtitle>
    </ion-card>

    <ion-router-link> </ion-router-link>
  </ng-template>

  <!--Features - End-->

  <!--Proficiencies-->

  <ng-template [ngIf]="element.type === 'proficiencies'">
    <ion-card>
      <ion-card-header>
        <ion-card-title> Type </ion-card-title>
        <ion-card-subtitle> {{element.data.type}} </ion-card-subtitle>
      </ion-card-header>
    </ion-card>

    <ng-template [ngIf]="element.data.classes.length > 0">
      <h1 class="text-center" style="font-weight: bold; font-size: 20px; opacity: 0.75">
        Classes
      </h1>
      <ion-router-link *ngFor="let class of element.data.classes">
        <ion-card>
          <ion-row class="ion-align-items-center">
            <ion-card-header>
              <ion-col class="ion-no-padding titulos">
                <ion-card-title>
                  {{class.name}}
                  <ion-icon name="chevron-forward-outline"></ion-icon>
                </ion-card-title>
              </ion-col>
            </ion-card-header>
          </ion-row>
        </ion-card>
      </ion-router-link>
    </ng-template>

    <ng-template [ngIf]="element.data.races.length > 0">
      <h1 class="text-center">Races</h1>
      <ion-router-link *ngFor="let race of element.data.races">
        <ion-card>
          <ion-row class="ion-align-items-center">
            <ion-card-header>
              <ion-col class="ion-no-padding titulos">
                <ion-card-title> {{race.name}} </ion-card-title>
              </ion-col>
            </ion-card-header>
          </ion-row>
        </ion-card>
      </ion-router-link>
    </ng-template>
  </ng-template>

  <!--Proficiencies -  End-->

  <!--Races-->

  <ng-template [ngIf]="element.type === 'races'">
    <ion-card>
      <ion-card-header>
        <ion-card-title class="title"> Ability Bonuses </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <h2 *ngFor="let ability_bonus of element.data.ability_bonuses">
          {{ability_bonus.bonus}} in
          <span (click)="redirectToElement(ability_bonus.ability_score)"
            style="font-weight: bolder">{{ability_bonus.ability_score.name}}
            <ion-icon name="chevron-forward-outline"></ion-icon>
          </span>
        </h2>
      </ion-card-content>
    </ion-card>

    <ion-card>
      <ion-card-header>
        <ion-card-title class="title"> Age </ion-card-title>
      </ion-card-header>
      <ion-card-content> {{element.data.age}} </ion-card-content>
    </ion-card>

    <ion-card>
      <ion-card-header>
        <ion-card-title class="title"> Alignment </ion-card-title>
      </ion-card-header>
      <ion-card-content> {{element.data.alignment}} </ion-card-content>
    </ion-card>

    <ion-card>
      <ion-card-header>
        <ion-card-title class="title"> Laguages </ion-card-title>
      </ion-card-header>
      <ion-card-content> {{element.data.language_desc}} </ion-card-content>
    </ion-card>

    <ion-router-link *ngFor="let language of element.data.languages" (click)="redirectToElement(language)">
      <ion-card>
        <ion-card-header>
          <ion-card-title>
            {{language.name}}
            <ion-icon name="chevron-forward-outline"></ion-icon>
          </ion-card-title>
        </ion-card-header>
      </ion-card>
    </ion-router-link>

    <ion-card>
      <ion-card-header>
        <ion-card-title> <b>Size</b> </ion-card-title>
        <ion-card-subtitle> {{element.data.size}}</ion-card-subtitle>
      </ion-card-header>
    </ion-card>
  </ng-template>

  <!--Races - End-->

  <!--Subraces-->

  <ng-template [ngIf]="element.type === 'subraces'">
    <ion-card class="description-layout">
      <ion-card-subtitle class="description">
        {{element.data.desc}}
      </ion-card-subtitle>
    </ion-card>

    <ion-card>
      <ion-card-header>
        <ion-card-title class="title"> Ability Bonuses </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <h2 *ngFor="let ability_bonus of element.data.ability_bonuses">
          {{ability_bonus.bonus}} in
          <span (click)="redirectToElement(ability_bonus.ability_score)"
            style="font-weight: bolder">{{ability_bonus.ability_score.name}}</span>
        </h2>
      </ion-card-content>
    </ion-card>
  </ng-template>

  <!--Subraces - End-->

  <!--Languages-->

  <ng-template [ngIf]="element.type === 'languages'">
    <ion-card>
      <ion-card-header>
        <ion-card-title> <b>Speakers:</b> </ion-card-title>
        <ion-card-title *ngFor="let speakers of element.data.typical_speakers">
          {{speakers}}
        </ion-card-title>
      </ion-card-header>
    </ion-card>
  </ng-template>

  <!--Languages - End-->

  <!--Traits-->

  <ng-template [ngIf]="element.type === 'traits'"> </ng-template>

  <!--Traits - End-->

  <!--Equipment-->

  <ng-template [ngIf]="element.type === 'equipment'">
    <ion-card>
      <ion-card-header>
        <ion-card-title> Cost </ion-card-title>
        <ion-card-subtitle>
          {{element.data.cost.quantity}}{{element.data.cost.unit}}
        </ion-card-subtitle>
      </ion-card-header>
    </ion-card>

    <ng-template [ngIf]="element.data.desc != null">
      <ion-card>
        <ion-card-header>
          <ion-card-title> Description </ion-card-title>
          <ion-card-content> {{element.data.desc}} </ion-card-content>
        </ion-card-header>
      </ion-card>
    </ng-template>

    <ion-card>
      <ion-card-header>
        <ion-card-title> Equipment Category </ion-card-title>
        <ion-card-subtitle>
          {{element.data.equipment_category.name}}
        </ion-card-subtitle>
      </ion-card-header>
    </ion-card>

    <ion-card>
      <ion-card-header>
        <ion-card-title> Gear Category </ion-card-title>
        <ion-card-subtitle>
          {{element.data.gear_category.name}}
        </ion-card-subtitle>
      </ion-card-header>
    </ion-card>

    <ng-template [ngIf]="element.data.equipment_category.name === 'Weapon'">
      <ion-card>
        <ion-card-header>
          <ion-card-title> Damage </ion-card-title>
          <ion-card-subtitle>
            {{element.data.damage.damage_dice}}
            {{element.data.damage.damage_type.name}} Damage
          </ion-card-subtitle>
        </ion-card-header>
      </ion-card>
      <ion-card>
        <ion-card-header>
          <ion-card-title> Weapon Range </ion-card-title>
          <ion-card-subtitle>
            {{element.data.weapon_range}} | {{element.data.range.normal}} ft |
            Throw
            {{element.data.throw_range.normal}}/{{element.data.throw_range.long}}
            ft
          </ion-card-subtitle>
        </ion-card-header>
      </ion-card>
      <ion-card>
        <ion-card-header>
          <ion-card-title> Weapon Category </ion-card-title>
          <ion-card-subtitle>
            {{element.data.weapon_category}}
          </ion-card-subtitle>
        </ion-card-header>
      </ion-card>
    </ng-template>

    <ng-template [ngIf]="element.data.equipment_category.name === 'Armor'">
      <ion-card>
        <ion-card-header>
          <ion-card-title> Armor Category </ion-card-title>
          <ion-card-subtitle>
            {{element.data.armor_category}}
          </ion-card-subtitle>
        </ion-card-header>
      </ion-card>
      <ion-card>
        <ion-card-header>
          <ion-card-title> Armor Class </ion-card-title>
          <ion-card-subtitle>
            {{element.data.armor_class.base}}
            <ng-template [ngIf]="element.data.armor_class.dex_bonus">+ Dex</ng-template>
            <ng-template [ngIf]="element.data.armor_class.max_bonus">
              (Max : {{element.data.armor_class.max_bonus}})
            </ng-template>
          </ion-card-subtitle>
        </ion-card-header>
      </ion-card>
    </ng-template>

    <ion-card>
      <ion-card-header>
        <ion-card-title> Weight </ion-card-title>
        <ion-card-subtitle> {{element.data.weight}} kg </ion-card-subtitle>
      </ion-card-header>
    </ion-card>
  </ng-template>

  <!--Equipment -  End-->

  <!--Spells-->

  <ng-template [ngIf]="element.type === 'spells'">
    <ion-card>
      <ion-card>
        <ion-card-header>
          <ion-card-title class="title">{{element.data.name}}</ion-card-title>
          <ng-template [ngIf]="element.data.level > 0">
            <ion-card-subtitle class="title">{{element.data.level}} level
              {{element.data.school.name}}</ion-card-subtitle>
          </ng-template>
          <ng-template [ngIf]="element.data.level === 0">
            <ion-card-subtitle class="title">Cantrip
              {{element.data.school.name}}</ion-card-subtitle>
          </ng-template>
          <ion-card-subtitle class="title">Classes:
            <span *ngFor="let class of element.data.classes">{{class.name}}<ng-template
                [ngIf]="element.data.classes[element.data.classes.length - 1] != class">, </ng-template>
            </span>.
          </ion-card-subtitle>
        </ion-card-header>
      </ion-card>
      <ion-card>
        <ion-card-content>
          <strong>Casting Time:</strong> {{element.data.casting_time}}. <br>
          <strong>Range:</strong> {{element.data.range}}. <br>
          <strong>Components:</strong> <span *ngFor="let component of element.data.components"> {{component}}<ng-template 
            [ngIf]="component === 'M'"> ({{element.data.material}})</ng-template>
            <ng-template [ngIf]="element.data.components[element.data.components.length - 1] != component">,
            </ng-template>
          </span>. <br>
          <strong>Duration:</strong> {{element.data.duration}} <br>
          <p *ngFor="let description of element.data.desc">
            {{description}}
          </p>

        </ion-card-content>
      </ion-card>
    </ion-card>

    <!-- Old Code
    <ion-card>
      <ion-card-header>
        <ion-card-title class="title"> School </ion-card-title>
        <ion-card-subtitle> {{element.data.school.name}} </ion-card-subtitle>
      </ion-card-header>
    </ion-card>

    <ion-card>
      <ion-card-header>
        <ion-card-title class="title"> Components </ion-card-title>
        <ion-card-subtitle> {{element.data.school.name}} </ion-card-subtitle>
      </ion-card-header>
    </ion-card>

    <ion-card class="description-layout">
      <ion-card-title><b>Description:</b></ion-card-title>
      <ion-card-subtitle class="description">
        {{element.data.desc}}
      </ion-card-subtitle>

      <ion-card-title><b>Higher Levels:</b></ion-card-title>
      <ion-card-subtitle class="description">
        {{element.data.higher_level}}
      </ion-card-subtitle>

      <ion-card-title><b>Material Component:</b></ion-card-title>
      <ion-card-subtitle class="description">
        {{element.data.material}}
      </ion-card-subtitle>
    </ion-card>-->
  </ng-template>

  <!--Spells - End-->

  <!--Monsters-->

  <ng-template [ngIf]="element.type === 'monsters'">
    <ion-card>
      <ion-item>
        <ion-card-title> <b>Type:</b> {{element.data.type}} </ion-card-title>
      </ion-item>

      <ion-item>
        <ion-card-title> <b>Size:</b> {{element.data.size}} </ion-card-title>
      </ion-item>

      <ion-item>
        <ion-card-title>
          <b>Alignment:</b> {{element.data.alignment}}
        </ion-card-title>
      </ion-item>

      <ion-item>
        <ion-card-title>
          <b>Hit Points:</b> {{element.data.hit_points}}
        </ion-card-title>
      </ion-item>

      <ion-item>
        <ion-card-title>
          <b>Hit Dice:</b> {{element.data.hit_dice}}
        </ion-card-title>
      </ion-item>

      <ion-item>
        <ion-card-title>
          <b>Speed: </b> Walk {{element.data.speed.walk}}
          <ng-template [ngIf]="element.data.speed.swim != null"><br />Swim {{element.data.speed.swim}}
          </ng-template>
          <ng-template [ngIf]="element.data.speed.fly != null"><br />Fly {{element.data.speed.fly}}
          </ng-template>
        </ion-card-title>
      </ion-item>

      <ion-item>
        <ion-card-title>
          <b>Armor Class:</b> {{element.data.armor_class}}
        </ion-card-title>
      </ion-item>

      <ion-item>
        <ion-card-title><b> STR: </b>{{element.data.strength}} </ion-card-title>
      </ion-item>

      <ion-item>
        <ion-card-title><b> DEX: </b>{{element.data.dexterity}}
        </ion-card-title>
      </ion-item>

      <ion-item>
        <ion-card-title><b> CON: </b>{{element.data.constitution}}
        </ion-card-title>
      </ion-item>

      <ion-item>
        <ion-card-title><b> INT: </b>{{element.data.intelligence}}
        </ion-card-title>
      </ion-item>

      <ion-item>
        <ion-card-title><b> WIS: </b>{{element.data.wisdom}} </ion-card-title>
      </ion-item>

      <ion-item>
        <ion-card-title><b> CHA: </b>{{element.data.charisma}} </ion-card-title>
      </ion-item>

      <ion-card-header>
        <ng-template [ngIf]="element.data.condition_immunities.length > 0">
          <ion-card-title class="mt-1">
            Condition Immunities:
            <span *ngFor="let info of element.data.condition_immunities">{{info.name}}
            </span>
          </ion-card-title>
        </ng-template>

        <ng-template [ngIf]="element.data.damage_immunities.length > 0">
          <ion-card-title class="mt-1">
            Damage Immunities:
            <span *ngFor="let info of element.data.damage_immunities">{{info}}
            </span>
          </ion-card-title>
        </ng-template>

        <ng-template [ngIf]="element.data.damage_resistances.length > 0">
          <ion-card-title class="mt-1">
            Damage Resistances:
            <span *ngFor="let info of element.data.damage_resistances">{{info}}
            </span>
          </ion-card-title>
        </ng-template>

        <ng-template [ngIf]="element.data.damage_vulnerabilities.length > 0">
          <ion-card-title class="mt-1">
            Damage Vulnerabilities:
            <span *ngFor="let info of element.data.damage_vulnerabilities">{{info}}
            </span>
          </ion-card-title>
        </ng-template>

        <ion-card-title>
          <b>Languages:</b> {{element.data.languages}}
        </ion-card-title>

        <ng-template [ngIf]="element.data.proficiencies.length > 0">
          <ion-card-title class="mt-1">
            <b>Proficiencies:</b> <br />
            <span *ngFor="let prof of element.data.proficiencies">{{prof.proficiency.name}} <br />
            </span>
          </ion-card-title>
        </ng-template>

        <ion-card-title class="mt-1">
          <b>Senses:</b>
          <ng-template [ngIf]="element.data.senses.darkvision != null">
            Darkvision {{element.data.senses.darkvision}}
          </ng-template>
          <ng-template [ngIf]="element.data.senses.blindsight != null">
            Blindsight {{element.data.senses.blindsight}}
          </ng-template>
          Passive Perception {{element.data.senses.passive_perception}}
        </ion-card-title>

        <ion-card-title *ngIf="element.data.special_abilities != 0" class="mt-1">
          <ng-template [ngIf]="element.data.special_abilities.length > 0">
            <div *ngFor="let special_ab of element.data.special_abilities" class="mt-1">
              <ion-card-title>
                <b>{{special_ab.name}}</b> <br />
              </ion-card-title>
              <ion-card-content style="opacity: 0.75">
                {{special_ab.desc}}
              </ion-card-content>
            </div>
          </ng-template>
        </ion-card-title>
        <ion-card-title class="mt-1">
          <b>Challenge Rating:</b> {{element.data.challenge_rating}}
        </ion-card-title>

        <ion-card-title> <b>XP:</b> {{element.data.xp}} </ion-card-title>
      </ion-card-header>
    </ion-card>
  </ng-template>
</ion-content>