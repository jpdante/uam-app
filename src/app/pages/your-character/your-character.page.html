<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="characters"></ion-back-button>
    </ion-buttons>
    <ion-title>{{character.name}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <ion-card-content>
      <ion-grid>
        <ion-row class="ion-align-items-center">
          <ion-col>
            <ion-avatar class="avatar">
              <img [src]="character.image" />
            </ion-avatar>
          </ion-col>
          <ion-col class="text-center">
            <ion-card-subtitle>
              Alignment: <b>{{character.alignment}}</b><br />
              Class: <b>{{character.class}}</b><br />
              Race: <b>{{character.race}}</b><br />
              Gender: <b>{{character.gender}}</b><br />
            </ion-card-subtitle>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-row class="ion-align-items-center">
      <ion-col class="text-center" size="5">
        <h2>Level: {{character.level}}</h2>
      </ion-col>
      <ion-col class="text-center" size="3">
        <ion-button (click)="levelDown()"
          ><ion-icon name="caret-down-outline" slot="icon-only"></ion-icon
        ></ion-button>
      </ion-col>
      <ion-col class="text-center" size="4">
        <ion-button (click)="levelUp()"
          ><ion-icon name="caret-up-outline" slot="icon-only"></ion-icon
        ></ion-button>
      </ion-col>
    </ion-row>
  </ion-card>

  <ion-card>
    <ion-row class="ion-align-items-center">
      <ion-item>
        <ion-label style="font-weight: bold; font-size: 17px;">XP:</ion-label>
        <ion-input type="number" value={{character.xp}} [(ngModel)]="xp"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label style="font-weight: bold; font-size: 17px;">Life Points: </ion-label>
        <ion-input type="number" value={{character.lifePoints}} [(ngModel)]="lifePoints"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label style="font-weight: bold; font-size: 17px;">Armor Class: </ion-label>
        <ion-input type="number" value={{character.armorClass}} [(ngModel)]="armorClass"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label style="font-weight: bold; font-size: 17px;">Speed: </ion-label>
        <ion-input type="number" value={{character.speed}} [(ngModel)]="speed"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label style="font-weight: bold; font-size: 17px;">Initiative: </ion-label>
        <ion-input type="number" value={{character.initiative}} [(ngModel)]="initiative"></ion-input>
      </ion-item>
    </ion-row>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-col class="ion-no-padding titulos">
        <ion-card-title class="text-center">Character Story</ion-card-title>
        <ion-card-subtitle>
          <ion-item>
            <ion-textarea value={{character.story}} [(ngModel)]="story"></ion-textarea>
          </ion-item>
        </ion-card-subtitle>
      </ion-col>
    </ion-card-header>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-card-title class="text-center">Abilities</ion-card-title>
      <ion-row>
        <ion-col size="6"> Strength: </ion-col>
        <ion-col size="6">
          {{character.atrib.strength}} ({{
          calculateMod(character.atrib.strength) }})
          <ion-button (click)="strengthDown()" size="small" color="primary">-</ion-button> 
          <ion-button (click)="strengthUp()" size="small" color="primary">+</ion-button> 
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="6">Dexterity:</ion-col>
        <ion-col size="6">
          {{character.atrib.dexterity}} ({{
          calculateMod(character.atrib.dexterity) }})
          <ion-button (click)="dexterityDown()" size="small" color="primary">-</ion-button> 
          <ion-button (click)="dexterityUp()" size="small" color="primary">+</ion-button> 
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="6"> Constitution: </ion-col>
        <ion-col size="6">
          {{character.atrib.constitution}} ({{
          calculateMod(character.atrib.constitution) }})
          <ion-button (click)="constitutionDown()" size="small" color="primary">-</ion-button> 
          <ion-button (click)="constitutionUp()" size="small" color="primary">+</ion-button> 
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="6"> Intelligence: </ion-col>
        <ion-col size="6">
          {{character.atrib.intelligence}} ({{
          calculateMod(character.atrib.intelligence) }})
          <ion-button (click)="intelligenceDown()" size="small" color="primary">-</ion-button> 
          <ion-button (click)="intelligenceUp()" size="small" color="primary">+</ion-button> 
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="6"> Wisdom: </ion-col>
        <ion-col size="6">
          {{character.atrib.wisdom}} ({{ 
          calculateMod(character.atrib.wisdom) }})
          <ion-button (click)="wisdomDown()" size="small" color="primary">-</ion-button> 
          <ion-button (click)="wisdomUp()" size="small" color="primary">+</ion-button> 
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="6"> Charisma: </ion-col>
        <ion-col size="6">
          {{character.atrib.charisma}} ({{
          calculateMod(character.atrib.charisma) }})
          <ion-button (click)="charismaDown()" size="small" color="primary">-</ion-button> 
          <ion-button (click)="charismaUp()" size="small" color="primary">+</ion-button> 
        </ion-col>
      </ion-row>
    </ion-card-header>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-col class="ion-no-padding titulos">
        <ion-card-title class="text-center">Itens List</ion-card-title>
        <ion-card-subtitle>
          <ion-item>
            <ion-textarea value={{character.itensList}} [(ngModel)]="itens"></ion-textarea>
          </ion-item>
        </ion-card-subtitle>
      </ion-col>
    </ion-card-header>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-col class="ion-no-padding titulos">
        <ion-card-title class="text-center">Spells List</ion-card-title>
        <ion-card-subtitle>
          <ion-item>
            <ion-textarea value={{character.spellsList}} [(ngModel)]="spells"></ion-textarea> 
          </ion-item>
        </ion-card-subtitle>
      </ion-col>
    </ion-card-header>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-col class="ion-no-padding titulos">
        <ion-card-title class="text-center">Languages And Proficiencies</ion-card-title>
        <ion-card-subtitle>
          <ion-item>
            <ion-textarea value={{character.languagesAndProficiencies}} [(ngModel)]="lap"></ion-textarea>
          </ion-item>
        </ion-card-subtitle>
      </ion-col>
    </ion-card-header>
  </ion-card>

  <ion-item>
    <ion-label>Alignments</ion-label>
    <ion-select value={{character.alignment}} placeholder="Select a Race" [(ngModel)]="alignment">
      <ion-select-option value="Lawful good (LG)">Lawful good (LG)</ion-select-option>
      <ion-select-option value="Neutral good (NG)">Neutral good (NG)</ion-select-option>
      <ion-select-option value="Chaotic good (CG)">Chaotic good (CG)</ion-select-option>
      <ion-select-option value="Lawful neutral (LN)">Lawful neutral (LN)</ion-select-option>
      <ion-select-option value="Neutral (N)">Neutral (N)</ion-select-option>
      <ion-select-option value="Chaotic neutral (CN)">Chaotic neutral (CN)</ion-select-option>
      <ion-select-option value="Lawful evil (LE)">Lawful evil (LE)</ion-select-option>
      <ion-select-option value="Neutral evil (NE)">Neutral evil (NE)</ion-select-option>
      <ion-select-option value="Chaotic evil (CE)">Chaotic evil (CE)</ion-select-option>
    </ion-select>
  </ion-item>

</ion-content>

<ion-button (click)="savePage(lifePoints, armorClass, story, spells, itens, lap, xp, alignment, initiative, speed)" color="primary">save</ion-button> 
